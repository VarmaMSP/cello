events {}

http {
    include mime.types;

    server {
        listen 8080;
        server_name localhost;

        
        location /thumbnails/ {
            add_header Cache-Control "public,max-age=604800";
            proxy_pass http://localhost:9000/thumbnails/;
        }

        location /static/ {
            add_header Cache-Control "max-age=300";
            root /var/www/;
        }

        location /api/ {
            proxy_pass http://localhost:8081/;
        }

        location / {
            add_header Cache-Control "max-age=300";
            proxy_pass http://localhost:8082/;
        }
    }
}